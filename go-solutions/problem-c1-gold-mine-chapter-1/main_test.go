package main

import (
	"github.com/stretchr/testify/require"
	"testing"
)

func Test_solve(t *testing.T) {
	tests := []struct {
		name string
		inn  inputItem
		want int
	}{
		{
			name: "",
			inn: inputItem{
				T:      6,
				Values: []int{5, 4, 1, 3, 2, 4},
				Pairs:  [][2]int{{4, 0}, {4, 3}, {4, 2}, {4, 1}, {5, 2}},
			},
			want: 12,
		},
		{
			name: "",
			inn: inputItem{
				T:      9,
				Values: []int{2, 14, 7, 6, 11, 3, 6, 1, 8},
				Pairs:  [][2]int{{3, 4}, {5, 6}, {7, 8}, {0, 2}, {5, 7}, {1, 3}, {3, 0}, {0, 7}},
			},
			want: 32,
		},
		{
			name: "",
			inn: inputItem{
				T:      50,
				Values: []int{13859433, 18628942, 7347267, 4813943, 16978714, 15303963, 6580609, 7087898, 1282597, 17231025, 12811294, 9673049, 3538611, 18865997, 15180831, 13520772, 8715179, 14281497, 2489079, 16929588, 10106875, 6867369, 2611428, 11334811, 9897608, 11174561, 5757160, 7529719, 11068080, 4630901, 10974819, 17483809, 14382456, 7754057, 8912970, 4341058, 1061719, 7392247, 13464838, 14706852, 539294, 1847086, 15492075, 19938470, 8518530, 10316215, 12941651, 13247946, 6510792, 19914451},
				Pairs:  [][2]int{{0, 36}, {17, 36}, {13, 17}, {13, 22}, {33, 22}, {33, 34}, {47, 34}, {42, 47}, {42, 6}, {38, 6}, {11, 38}, {48, 11}, {48, 12}, {10, 12}, {10, 15}, {15, 26}, {21, 26}, {16, 21}, {24, 16}, {39, 24}, {49, 39}, {49, 23}, {23, 2}, {2, 3}, {7, 3}, {7, 40}, {32, 40}, {32, 5}, {5, 30}, {9, 30}, {14, 9}, {1, 14}, {4, 1}, {29, 3}, {29, 28}, {28, 27}, {37, 27}, {37, 18}, {44, 18}, {43, 44}, {25, 43}, {19, 25}, {19, 41}, {46, 41}, {45, 46}, {20, 45}, {35, 20}, {35, 31}, {8, 31}},
			},
			want: 399532193,
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got := solve(tt.inn)
			require.Equal(t, tt.want, got)
		})
	}
}
